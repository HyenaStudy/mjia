# CHAPTER 18 함수형 관점으로 생각하기

## 함수형 프로그래밍

> **부작용 -> 예상치 못한 영향을 미치는 것**
> - 자료구조 변경(필드 값 할당, 객체 상태 변경)
> - 예외 발생
> - I/O 동작 수행
<br>

### 순수 메서드, 부작용 없는 메서드
- 클래스나 객체의 상태를 변경하지 않고 동일한 입력에 항상 동일한 결과 반환
- 불변 객체를 이용해 부작용 제거
<br>

### 함수형
- 자바에서 순수 함수형 프로그래밍은 어렵고 함수형까지만 가능
- 내부에 부작용이 있어도 외부에서 모르면 노상관
- 함수형 조건
  - 모든 필드는 final, 모든 참조 필드는 불변 객체를 직접 참조
  - 예외 발생 X
  - 비함수형 동작을 감출 수 있는 상황에서만 부작용 사용
<br>

### 참조 투명성
- 같은 값을 입력하면 항상 같은 결과 반환
- 비싸거나 오래 걸리는 연산을 기억해서 다시 계산하지 않고 저장하는 최적화 기능 제공
<br>

### 재귀와 반복
- 상태 변화를 피하기 위해 반복문 대신 재귀 사용
-> but 입력에 비례하게 메모리 사용량이 증가해 StackOverflowError 발생 가능<br>
**--> 꼬리 호출 최적화**
<br>

> **꼬리 호출**
> - 중간 결과를 함수의 인수로 직접 전달하고 재귀 호출이 마지막에 이뤄짐
> - 근데 자바는 이런 최적화를 제공하지 않는다?????